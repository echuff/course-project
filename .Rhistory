stringsAsFactors=FALSE
)
## create RYG data set
RYG <- dibels %>%
select(Year, District_Name, School, Grade,
v0_Beg = Need_For_Support_FSF_K_Beginning,
v0_Mid = Need_For_Support_FSF_K_Middle,
v0_End = Need_For_Support_PSF_K_End,
v1_Beg = Need_For_Support_PSF_1st_Beginning,
v1_Mid = Need_For_Support_DORF.WordsCorrect_1st_Middle,
v1_End = Need_For_Support_DORF.WordsCorrect_1st_End,
v2_Beg = Need_For_Support_DORF.WordsCorrect_2nd_Beginning,
v2_Mid = Need_For_Support_DORF.WordsCorrect_2nd_Middle,
v2_End = Need_For_Support_DORF.WordsCorrect_2nd_End,
v3_Beg = Need_For_Support_DORF.WordsCorrect_3rd_Beginning,
v3_Mid = Need_For_Support_DORF.WordsCorrect_3rd_Middle,
v3_End = Need_For_Support_DORF.WordsCorrect_3rd_End,
v4_Beg = Need_For_Support_DORF.WordsCorrect_4th_Beginning,
v4_Mid = Need_For_Support_DORF.WordsCorrect_4th_Middle,
v4_End = Need_For_Support_DORF.WordsCorrect_4th_End,
v5_Beg = Need_For_Support_DORF.WordsCorrect_5th_Beginning,
v5_Mid = Need_For_Support_DORF.WordsCorrect_5th_Middle,
v5_End = Need_For_Support_DORF.WordsCorrect_5th_End,
v6_Beg = Need_For_Support_DORF.WordsCorrect_6th_Beginning,
v6_Mid = Need_For_Support_DORF.WordsCorrect_6th_Middle,
v6_End = Need_For_Support_DORF.WordsCorrect_6th_End) %>%
mutate(v0_Beg = ifelse(!is.na(v0_Beg), v0_Beg, ''),
v0_Mid = ifelse(!is.na(v0_Mid), v0_Mid, ''),
v0_End = ifelse(!is.na(v0_End), v0_End, ''),
v1_Beg = ifelse(!is.na(v1_Beg), v1_Beg, ''),
v1_Mid = ifelse(!is.na(v1_Mid), v1_Mid, ''),
v1_End = ifelse(!is.na(v1_End), v1_End, ''),
v2_Beg = ifelse(!is.na(v2_Beg), v2_Beg, ''),
v2_Mid = ifelse(!is.na(v2_Mid), v2_Mid, ''),
v2_End = ifelse(!is.na(v2_End), v2_End, ''),
v3_Beg = ifelse(!is.na(v3_Beg), v3_Beg, ''),
v3_Mid = ifelse(!is.na(v3_Mid), v3_Mid, ''),
v3_End = ifelse(!is.na(v3_End), v3_End, ''),
v4_Beg = ifelse(!is.na(v4_Beg), v4_Beg, ''),
v4_Mid = ifelse(!is.na(v4_Mid), v4_Mid, ''),
v4_End = ifelse(!is.na(v4_End), v4_End, ''),
v5_Beg = ifelse(!is.na(v5_Beg), v5_Beg, ''),
v5_Mid = ifelse(!is.na(v5_Mid), v5_Mid, ''),
v5_End = ifelse(!is.na(v5_End), v5_End, ''),
v6_Beg = ifelse(!is.na(v6_Beg), v6_Beg, ''),
v6_Mid = ifelse(!is.na(v6_Mid), v6_Mid, ''),
v6_End = ifelse(!is.na(v6_End), v6_End, '')
) %>%
mutate(Beg=paste(v0_Beg, v1_Beg, v2_Beg, v3_Beg, v4_Beg, v5_Beg, v6_Beg, sep=''),
Mid=paste(v0_Mid, v1_Mid, v2_Mid, v3_Mid, v4_Mid, v5_Mid, v6_Mid, sep=''),
End=paste(v0_End, v1_End, v2_End, v3_End, v4_End, v5_End, v6_End, sep='')) %>%
arrange(District_Name, School, Grade)
RYG <- RYG %>%
select(District_Name, School, Grade, Beg, Mid, End)
Test <- RYG %>%
select(District_Name, School, Grade, Beg, Mid, End) %>%
gather(key=Assessment, value=Value, Beg, Mid, End)
write.csv(Test2014, file="C:/Users/Cam/Google Drive/Britt/Test.csv")
rm(Beg)
rm(RYG)
rm(dibels)
rm(Test)
fileURL <- "C:/Users/Cam/Google Drive/Britt/DataFarming_BayStateReadingInstitute_K-6_2014-2015_DIBELSNext_Confidential_1799601979.csv"
dibels <- read.csv(fileURL, stringsAsFactors=FALSE)
## create School variable
School=paste(dibels$School_K, dibels$School_1st, dibels$School_2nd, dibels$School_3rd,
dibels$School_4th, dibels$School_5th, dibels$School_6th, sep="")
dibels <- cbind(dibels, School, stringsAsFactors=FALSE)
## create grade variable
data_year <- 2014
for (i in 1:length(dibels$School)) {
dibels$Grade[i] <- match(data_year, c(dibels$Year_K[i], dibels$Year_1st[i], dibels$Year_2nd[i],
dibels$Year_3rd[i], dibels$Year_4th[i], dibels$Year_5th[i], dibels$Year_6th[i]))-1
}
dibels$Year = data_year
rm(i, School)
## recode RYG values
dibels <- as.data.frame(lapply(dibels, function(x) {
x <- recode(x,
"'Intensive Support'='R'; 'Strategic Support'='Y'; 'Core Support'='G'",
as.numeric.result=FALSE)
}
),
stringsAsFactors=FALSE
)
## create RYG data set
RYG <- dibels %>%
select(District_Name, School, Grade,
v0_Beg = Need_For_Support_FSF_K_Beginning,
v0_Mid = Need_For_Support_FSF_K_Middle,
v0_End = Need_For_Support_PSF_K_End,
v1_Beg = Need_For_Support_PSF_1st_Beginning,
v1_Mid = Need_For_Support_DORF.WordsCorrect_1st_Middle,
v1_End = Need_For_Support_DORF.WordsCorrect_1st_End,
v2_Beg = Need_For_Support_DORF.WordsCorrect_2nd_Beginning,
v2_Mid = Need_For_Support_DORF.WordsCorrect_2nd_Middle,
v2_End = Need_For_Support_DORF.WordsCorrect_2nd_End,
v3_Beg = Need_For_Support_DORF.WordsCorrect_3rd_Beginning,
v3_Mid = Need_For_Support_DORF.WordsCorrect_3rd_Middle,
v3_End = Need_For_Support_DORF.WordsCorrect_3rd_End,
v4_Beg = Need_For_Support_DORF.WordsCorrect_4th_Beginning,
v4_Mid = Need_For_Support_DORF.WordsCorrect_4th_Middle,
v4_End = Need_For_Support_DORF.WordsCorrect_4th_End,
v5_Beg = Need_For_Support_DORF.WordsCorrect_5th_Beginning,
v5_Mid = Need_For_Support_DORF.WordsCorrect_5th_Middle,
v5_End = Need_For_Support_DORF.WordsCorrect_5th_End,
v6_Beg = Need_For_Support_DORF.WordsCorrect_6th_Beginning,
v6_Mid = Need_For_Support_DORF.WordsCorrect_6th_Middle,
v6_End = Need_For_Support_DORF.WordsCorrect_6th_End) %>%
mutate(v0_Beg = ifelse(!is.na(v0_Beg), v0_Beg, ''),
v0_Mid = ifelse(!is.na(v0_Mid), v0_Mid, ''),
v0_End = ifelse(!is.na(v0_End), v0_End, ''),
v1_Beg = ifelse(!is.na(v1_Beg), v1_Beg, ''),
v1_Mid = ifelse(!is.na(v1_Mid), v1_Mid, ''),
v1_End = ifelse(!is.na(v1_End), v1_End, ''),
v2_Beg = ifelse(!is.na(v2_Beg), v2_Beg, ''),
v2_Mid = ifelse(!is.na(v2_Mid), v2_Mid, ''),
v2_End = ifelse(!is.na(v2_End), v2_End, ''),
v3_Beg = ifelse(!is.na(v3_Beg), v3_Beg, ''),
v3_Mid = ifelse(!is.na(v3_Mid), v3_Mid, ''),
v3_End = ifelse(!is.na(v3_End), v3_End, ''),
v4_Beg = ifelse(!is.na(v4_Beg), v4_Beg, ''),
v4_Mid = ifelse(!is.na(v4_Mid), v4_Mid, ''),
v4_End = ifelse(!is.na(v4_End), v4_End, ''),
v5_Beg = ifelse(!is.na(v5_Beg), v5_Beg, ''),
v5_Mid = ifelse(!is.na(v5_Mid), v5_Mid, ''),
v5_End = ifelse(!is.na(v5_End), v5_End, ''),
v6_Beg = ifelse(!is.na(v6_Beg), v6_Beg, ''),
v6_Mid = ifelse(!is.na(v6_Mid), v6_Mid, ''),
v6_End = ifelse(!is.na(v6_End), v6_End, '')
) %>%
mutate(Beg=paste(v0_Beg, v1_Beg, v2_Beg, v3_Beg, v4_Beg, v5_Beg, v6_Beg, sep=''),
Mid=paste(v0_Mid, v1_Mid, v2_Mid, v3_Mid, v4_Mid, v5_Mid, v6_Mid, sep=''),
End=paste(v0_End, v1_End, v2_End, v3_End, v4_End, v5_End, v6_End, sep='')) %>%
arrange(District_Name, School, Grade)
RYG <- RYG %>%
select(Year, District_Name, School, Grade, Beg, Mid, End)
Test2014 <- RYG %>%
select(Year, District_Name, School, Grade, Beg, Mid, End) %>%
gather(key=Assessment, value=Value, Beg, Mid, End)
write.csv(Test2014, file="C:/Users/Cam/Google Drive/Britt/Test2014.csv")
View(RYG)
View(dibels)
View(dibels)
head(dibels$Year)
fileURL <- "C:/Users/Cam/Google Drive/Britt/DataFarming_BayStateReadingInstitute_K-6_2014-2015_DIBELSNext_Confidential_1799601979.csv"
dibels <- read.csv(fileURL, stringsAsFactors=FALSE)
## create School variable
School=paste(dibels$School_K, dibels$School_1st, dibels$School_2nd, dibels$School_3rd,
dibels$School_4th, dibels$School_5th, dibels$School_6th, sep="")
dibels <- cbind(dibels, School, stringsAsFactors=FALSE)
## create grade variable
data_year <- 2014
for (i in 1:length(dibels$School)) {
dibels$Grade[i] <- match(data_year, c(dibels$Year_K[i], dibels$Year_1st[i], dibels$Year_2nd[i],
dibels$Year_3rd[i], dibels$Year_4th[i], dibels$Year_5th[i], dibels$Year_6th[i]))-1
}
dibels$Year = data_year
rm(i, School)
## recode RYG values
dibels <- as.data.frame(lapply(dibels, function(x) {
x <- recode(x,
"'Intensive Support'='R'; 'Strategic Support'='Y'; 'Core Support'='G'",
as.numeric.result=FALSE)
}
),
stringsAsFactors=FALSE
)
## create RYG data set
RYG <- dibels %>%
select(Year, District_Name, School, Grade,
v0_Beg = Need_For_Support_FSF_K_Beginning,
v0_Mid = Need_For_Support_FSF_K_Middle,
v0_End = Need_For_Support_PSF_K_End,
v1_Beg = Need_For_Support_PSF_1st_Beginning,
v1_Mid = Need_For_Support_DORF.WordsCorrect_1st_Middle,
v1_End = Need_For_Support_DORF.WordsCorrect_1st_End,
v2_Beg = Need_For_Support_DORF.WordsCorrect_2nd_Beginning,
v2_Mid = Need_For_Support_DORF.WordsCorrect_2nd_Middle,
v2_End = Need_For_Support_DORF.WordsCorrect_2nd_End,
v3_Beg = Need_For_Support_DORF.WordsCorrect_3rd_Beginning,
v3_Mid = Need_For_Support_DORF.WordsCorrect_3rd_Middle,
v3_End = Need_For_Support_DORF.WordsCorrect_3rd_End,
v4_Beg = Need_For_Support_DORF.WordsCorrect_4th_Beginning,
v4_Mid = Need_For_Support_DORF.WordsCorrect_4th_Middle,
v4_End = Need_For_Support_DORF.WordsCorrect_4th_End,
v5_Beg = Need_For_Support_DORF.WordsCorrect_5th_Beginning,
v5_Mid = Need_For_Support_DORF.WordsCorrect_5th_Middle,
v5_End = Need_For_Support_DORF.WordsCorrect_5th_End,
v6_Beg = Need_For_Support_DORF.WordsCorrect_6th_Beginning,
v6_Mid = Need_For_Support_DORF.WordsCorrect_6th_Middle,
v6_End = Need_For_Support_DORF.WordsCorrect_6th_End) %>%
mutate(v0_Beg = ifelse(!is.na(v0_Beg), v0_Beg, ''),
v0_Mid = ifelse(!is.na(v0_Mid), v0_Mid, ''),
v0_End = ifelse(!is.na(v0_End), v0_End, ''),
v1_Beg = ifelse(!is.na(v1_Beg), v1_Beg, ''),
v1_Mid = ifelse(!is.na(v1_Mid), v1_Mid, ''),
v1_End = ifelse(!is.na(v1_End), v1_End, ''),
v2_Beg = ifelse(!is.na(v2_Beg), v2_Beg, ''),
v2_Mid = ifelse(!is.na(v2_Mid), v2_Mid, ''),
v2_End = ifelse(!is.na(v2_End), v2_End, ''),
v3_Beg = ifelse(!is.na(v3_Beg), v3_Beg, ''),
v3_Mid = ifelse(!is.na(v3_Mid), v3_Mid, ''),
v3_End = ifelse(!is.na(v3_End), v3_End, ''),
v4_Beg = ifelse(!is.na(v4_Beg), v4_Beg, ''),
v4_Mid = ifelse(!is.na(v4_Mid), v4_Mid, ''),
v4_End = ifelse(!is.na(v4_End), v4_End, ''),
v5_Beg = ifelse(!is.na(v5_Beg), v5_Beg, ''),
v5_Mid = ifelse(!is.na(v5_Mid), v5_Mid, ''),
v5_End = ifelse(!is.na(v5_End), v5_End, ''),
v6_Beg = ifelse(!is.na(v6_Beg), v6_Beg, ''),
v6_Mid = ifelse(!is.na(v6_Mid), v6_Mid, ''),
v6_End = ifelse(!is.na(v6_End), v6_End, '')
) %>%
mutate(Beg=paste(v0_Beg, v1_Beg, v2_Beg, v3_Beg, v4_Beg, v5_Beg, v6_Beg, sep=''),
Mid=paste(v0_Mid, v1_Mid, v2_Mid, v3_Mid, v4_Mid, v5_Mid, v6_Mid, sep=''),
End=paste(v0_End, v1_End, v2_End, v3_End, v4_End, v5_End, v6_End, sep='')) %>%
arrange(District_Name, School, Grade)
RYG <- RYG %>%
select(Year, District_Name, School, Grade, Beg, Mid, End)
Test2014 <- RYG %>%
select(Year, District_Name, School, Grade, Beg, Mid, End) %>%
gather(key=Assessment, value=Value, Beg, Mid, End)
write.csv(Test2014, file="C:/Users/Cam/Google Drive/Britt/Test2014.csv")
fileURL <- "C:/Users/Cam/Google Drive/Britt/DataFarming_BayStateReadingInstitute_K-6_2014_DIBELSNext_Confidential_1614254432_12-13-2015.csv"
dibels <- read.csv(fileURL, stringsAsFactors=FALSE)
## create School variable
School=paste(dibels$School_K, dibels$School_1st, dibels$School_2nd, dibels$School_3rd,
dibels$School_4th, dibels$School_5th, dibels$School_6th, sep="")
dibels <- cbind(dibels, School, stringsAsFactors=FALSE)
## create grade variable
data_year <- 2014
for (i in 1:length(dibels$School)) {
dibels$Grade[i] <- match(data_year, c(dibels$Year_K[i], dibels$Year_1st[i], dibels$Year_2nd[i],
dibels$Year_3rd[i], dibels$Year_4th[i], dibels$Year_5th[i], dibels$Year_6th[i]))-1
}
dibels$Year = data_year
rm(i, School)
## recode RYG values
dibels <- as.data.frame(lapply(dibels, function(x) {
x <- recode(x,
"'Intensive Support'='R'; 'Strategic Support'='Y'; 'Core Support'='G'",
as.numeric.result=FALSE)
}
),
stringsAsFactors=FALSE
)
## create RYG data set
RYG <- dibels %>%
select(Year, District_Name, School, Grade,
v0_Beg = Need_For_Support_FSF_K_Beginning,
v0_Mid = Need_For_Support_FSF_K_Middle,
v0_End = Need_For_Support_PSF_K_End,
v1_Beg = Need_For_Support_PSF_1st_Beginning,
v1_Mid = Need_For_Support_DORF.WordsCorrect_1st_Middle,
v1_End = Need_For_Support_DORF.WordsCorrect_1st_End,
v2_Beg = Need_For_Support_DORF.WordsCorrect_2nd_Beginning,
v2_Mid = Need_For_Support_DORF.WordsCorrect_2nd_Middle,
v2_End = Need_For_Support_DORF.WordsCorrect_2nd_End,
v3_Beg = Need_For_Support_DORF.WordsCorrect_3rd_Beginning,
v3_Mid = Need_For_Support_DORF.WordsCorrect_3rd_Middle,
v3_End = Need_For_Support_DORF.WordsCorrect_3rd_End,
v4_Beg = Need_For_Support_DORF.WordsCorrect_4th_Beginning,
v4_Mid = Need_For_Support_DORF.WordsCorrect_4th_Middle,
v4_End = Need_For_Support_DORF.WordsCorrect_4th_End,
v5_Beg = Need_For_Support_DORF.WordsCorrect_5th_Beginning,
v5_Mid = Need_For_Support_DORF.WordsCorrect_5th_Middle,
v5_End = Need_For_Support_DORF.WordsCorrect_5th_End,
v6_Beg = Need_For_Support_DORF.WordsCorrect_6th_Beginning,
v6_Mid = Need_For_Support_DORF.WordsCorrect_6th_Middle,
v6_End = Need_For_Support_DORF.WordsCorrect_6th_End) %>%
mutate(v0_Beg = ifelse(!is.na(v0_Beg), v0_Beg, ''),
v0_Mid = ifelse(!is.na(v0_Mid), v0_Mid, ''),
v0_End = ifelse(!is.na(v0_End), v0_End, ''),
v1_Beg = ifelse(!is.na(v1_Beg), v1_Beg, ''),
v1_Mid = ifelse(!is.na(v1_Mid), v1_Mid, ''),
v1_End = ifelse(!is.na(v1_End), v1_End, ''),
v2_Beg = ifelse(!is.na(v2_Beg), v2_Beg, ''),
v2_Mid = ifelse(!is.na(v2_Mid), v2_Mid, ''),
v2_End = ifelse(!is.na(v2_End), v2_End, ''),
v3_Beg = ifelse(!is.na(v3_Beg), v3_Beg, ''),
v3_Mid = ifelse(!is.na(v3_Mid), v3_Mid, ''),
v3_End = ifelse(!is.na(v3_End), v3_End, ''),
v4_Beg = ifelse(!is.na(v4_Beg), v4_Beg, ''),
v4_Mid = ifelse(!is.na(v4_Mid), v4_Mid, ''),
v4_End = ifelse(!is.na(v4_End), v4_End, ''),
v5_Beg = ifelse(!is.na(v5_Beg), v5_Beg, ''),
v5_Mid = ifelse(!is.na(v5_Mid), v5_Mid, ''),
v5_End = ifelse(!is.na(v5_End), v5_End, ''),
v6_Beg = ifelse(!is.na(v6_Beg), v6_Beg, ''),
v6_Mid = ifelse(!is.na(v6_Mid), v6_Mid, ''),
v6_End = ifelse(!is.na(v6_End), v6_End, '')
) %>%
mutate(Beg=paste(v0_Beg, v1_Beg, v2_Beg, v3_Beg, v4_Beg, v5_Beg, v6_Beg, sep=''),
Mid=paste(v0_Mid, v1_Mid, v2_Mid, v3_Mid, v4_Mid, v5_Mid, v6_Mid, sep=''),
End=paste(v0_End, v1_End, v2_End, v3_End, v4_End, v5_End, v6_End, sep='')) %>%
arrange(District_Name, School, Grade)
RYG <- RYG %>%
select(Year, District_Name, School, Grade, Beg, Mid, End)
Test2014 <- RYG %>%
select(Year, District_Name, School, Grade, Beg, Mid, End) %>%
gather(key=Assessment, value=Value, Beg, Mid, End)
write.csv(Test2014, file="C:/Users/Cam/Google Drive/Britt/Test2014.csv")
View(RYG)
View(dibels)
View(dibels)
str(dibels)
head(select(dibels, matches("School_[0-9].")))
head(select(dibels, matches("School_[K1-6].")))
head(select(dibels, matches("School_(K|[1-6].")))
head(select(dibels, matches("School_(K|[1-6])")))
head(unite(dibels, matches("School_(K|[1-6])")))
unite(select(dibels, matches("School_(K|[1-6])")), sep='')
x = select(dibels, matches("School_(K|[1-6])"))
source('C:/Users/Cam/Google Drive/Coursera/Getting and Cleaning Data/dibels.R', echo=TRUE)
## create dibels data frame
#fileURL <- "C:/Users/Cam/Google Drive/Britt/DataFarming_BayStateReadingInstitute_K-6_2015_DIBELSNext_Confidential_346228538 12-15-15.csv"
fileURL <- "C:/Users/Cam/Google Drive/Britt/DataFarming_BayStateReadingInstitute_K-6_2014_DIBELSNext_Confidential_1614254432_12-13-2015.csv"
dibels <- read.csv(fileURL, stringsAsFactors=FALSE)
x = select(dibels, matches("School_(K|[1-6])"))
head(unite(x, everything(),sep='', remove=TRUE))
x = select(dibels, matches("School_(K|[1-6])"))
head(unite(x, School_K:School_6th,sep='', remove=TRUE))
str(x)
head(unite(x, School_K, School_1st:School_6th,sep='', remove=TRUE))
head(unite(x, School_K, School_1st:School_6th,sep='', remove=TRUE), n=100)
head(unite(x, c(School_K, School_1st:School_6th),sep='', remove=TRUE), n=100)
head(unite(x, School, c(School_K:School_6th),sep='', remove=TRUE), n=100)
head(unite(x, School, c(School_K:School_6th),sep='', remove=FALSE), n=500)
head(unite(x, School, c(School_K:School_6th),sep='', remove=FALSE), n=300)
unite(x, School, c(School_K:School_6th),sep='', remove=FALSE)[500:750,]
dibels2 <- unite(dibels, School, c(School_K:School_6th),sep='', remove=TRUE)
str(dibels2)
head(dibels)
rm(dibels2)
rm x
fileURL <- "C:/Users/Cam/Google Drive/Britt/DataFarming_BayStateReadingInstitute_K-6_2014_DIBELSNext_Confidential_1614254432_12-13-2015.csv"
dibels <- read.csv(fileURL, stringsAsFactors=FALSE)
rm(x)
x = select(dibels, matches("School_(K|[1-6])"))
School <- unite(x, School, c(School_K:School_6th),sep='', remove=TRUE)
head(School)
School[500:600,]
str(School)
School <- select(dibels, matches("School_(K|[1-6])"))
School <- unite(School, School, c(School_K:School_6th),sep='', remove=TRUE)
head(School)
School <- dibels %>% select(matches("School_(K|[1-6])")) %>% unite(School, c(School_K:School_6th),sep='', remove=TRUE)
head(School)
School[500:600,]
fileURL <- "C:/Users/Cam/Google Drive/Britt/DataFarming_BayStateReadingInstitute_K-6_2014_DIBELSNext_Confidential_1614254432_12-13-2015.csv"
dibels <- read.csv(fileURL, stringsAsFactors=FALSE)
School <- dibels %>% select(matches("School_(K|[1-6])")) %>% unite(School, c(School_K:School_6th),sep='', remove=TRUE)
dibels <- cbind(dibels, School, stringsAsFactors=FALSE)
data_year <- 2014
for (i in 1:length(dibels$School)) {
dibels$Grade[i] <- match(data_year, c(dibels$Year_K[i], dibels$Year_1st[i], dibels$Year_2nd[i],
dibels$Year_3rd[i], dibels$Year_4th[i], dibels$Year_5th[i], dibels$Year_6th[i]))-1
}
dibels$Year = data_year
rm(i, School)
dibels <- as.data.frame(lapply(dibels, function(x) {
x <- recode(x,
"'Intensive Support'='R'; 'Strategic Support'='Y'; 'Core Support'='G'",
as.numeric.result=FALSE)
}
),
stringsAsFactors=FALSE
)
RYG <- dibels %>%
select(Year, District_Name, School, Grade,
v0_Beg = Need_For_Support_FSF_K_Beginning,
v0_Mid = Need_For_Support_FSF_K_Middle,
v0_End = Need_For_Support_PSF_K_End,
v1_Beg = Need_For_Support_PSF_1st_Beginning,
v1_Mid = Need_For_Support_DORF.WordsCorrect_1st_Middle,
v1_End = Need_For_Support_DORF.WordsCorrect_1st_End,
v2_Beg = Need_For_Support_DORF.WordsCorrect_2nd_Beginning,
v2_Mid = Need_For_Support_DORF.WordsCorrect_2nd_Middle,
v2_End = Need_For_Support_DORF.WordsCorrect_2nd_End,
v3_Beg = Need_For_Support_DORF.WordsCorrect_3rd_Beginning,
v3_Mid = Need_For_Support_DORF.WordsCorrect_3rd_Middle,
v3_End = Need_For_Support_DORF.WordsCorrect_3rd_End,
v4_Beg = Need_For_Support_DORF.WordsCorrect_4th_Beginning,
v4_Mid = Need_For_Support_DORF.WordsCorrect_4th_Middle,
v4_End = Need_For_Support_DORF.WordsCorrect_4th_End,
v5_Beg = Need_For_Support_DORF.WordsCorrect_5th_Beginning,
v5_Mid = Need_For_Support_DORF.WordsCorrect_5th_Middle,
v5_End = Need_For_Support_DORF.WordsCorrect_5th_End,
v6_Beg = Need_For_Support_DORF.WordsCorrect_6th_Beginning,
v6_Mid = Need_For_Support_DORF.WordsCorrect_6th_Middle,
v6_End = Need_For_Support_DORF.WordsCorrect_6th_End) %>%
mutate(v0_Beg = ifelse(!is.na(v0_Beg), v0_Beg, ''),
v0_Mid = ifelse(!is.na(v0_Mid), v0_Mid, ''),
v0_End = ifelse(!is.na(v0_End), v0_End, ''),
v1_Beg = ifelse(!is.na(v1_Beg), v1_Beg, ''),
v1_Mid = ifelse(!is.na(v1_Mid), v1_Mid, ''),
v1_End = ifelse(!is.na(v1_End), v1_End, ''),
v2_Beg = ifelse(!is.na(v2_Beg), v2_Beg, ''),
v2_Mid = ifelse(!is.na(v2_Mid), v2_Mid, ''),
v2_End = ifelse(!is.na(v2_End), v2_End, ''),
v3_Beg = ifelse(!is.na(v3_Beg), v3_Beg, ''),
v3_Mid = ifelse(!is.na(v3_Mid), v3_Mid, ''),
v3_End = ifelse(!is.na(v3_End), v3_End, ''),
v4_Beg = ifelse(!is.na(v4_Beg), v4_Beg, ''),
v4_Mid = ifelse(!is.na(v4_Mid), v4_Mid, ''),
v4_End = ifelse(!is.na(v4_End), v4_End, ''),
v5_Beg = ifelse(!is.na(v5_Beg), v5_Beg, ''),
v5_Mid = ifelse(!is.na(v5_Mid), v5_Mid, ''),
v5_End = ifelse(!is.na(v5_End), v5_End, ''),
v6_Beg = ifelse(!is.na(v6_Beg), v6_Beg, ''),
v6_Mid = ifelse(!is.na(v6_Mid), v6_Mid, ''),
v6_End = ifelse(!is.na(v6_End), v6_End, '')
) %>%
mutate(Beg=paste(v0_Beg, v1_Beg, v2_Beg, v3_Beg, v4_Beg, v5_Beg, v6_Beg, sep=''),
Mid=paste(v0_Mid, v1_Mid, v2_Mid, v3_Mid, v4_Mid, v5_Mid, v6_Mid, sep=''),
End=paste(v0_End, v1_End, v2_End, v3_End, v4_End, v5_End, v6_End, sep='')) %>%
arrange(District_Name, School, Grade)
RYG <- RYG %>%
select(Year, District_Name, School, Grade, Beg, Mid, End)
Test2014A <- RYG %>%
select(Year, District_Name, School, Grade, Beg, Mid, End) %>%
gather(key=Assessment, value=Value, Beg, Mid, End)
write.csv(Test2014, file="C:/Users/Cam/Google Drive/Britt/Test2014A.csv")
School <- dibels %>% select(matches("School_(K|[1-6]).")) %>% unite(School, c(School_K:School_6th),sep='', remove=FALSE)
View(dibels)
View(dibels)
School <- dibels %>% select(matches("School_(K|[1-6])")) %>% unite(School, c(School_K:School_6th),sep='', remove=FALSE)
head(School)
rm(list=ls())
## create dibels data frame
#fileURL <- "C:/Users/Cam/Google Drive/Britt/DataFarming_BayStateReadingInstitute_K-6_2015_DIBELSNext_Confidential_346228538 12-15-15.csv"
fileURL <- "C:/Users/Cam/Google Drive/Britt/DataFarming_BayStateReadingInstitute_K-6_2014_DIBELSNext_Confidential_1614254432_12-13-2015.csv"
dibels <- read.csv(fileURL, stringsAsFactors=FALSE)
## create School variable
School <- dibels %>% select(matches("School_(K|[1-6])")) %>% unite(School, c(School_K:School_6th),sep='', remove=FALSE)
dibels <- cbind(dibels, School, stringsAsFactors=FALSE)
## create Grade variable
data_year <- 2014
for (i in 1:length(dibels$School)) {
dibels$Grade[i] <- match(data_year, c(dibels$Year_K[i], dibels$Year_1st[i], dibels$Year_2nd[i],
dibels$Year_3rd[i], dibels$Year_4th[i], dibels$Year_5th[i], dibels$Year_6th[i]))-1
}
## create Year variable
dibels$Year = data_year
rm(i, School)
## recode RYG values
dibels <- as.data.frame(lapply(dibels, function(x) {
x <- recode(x, "'Intensive Support'='R'; 'Strategic Support'='Y'; 'Core Support'='G'",
as.numeric.result=FALSE)
}
),
stringsAsFactors=FALSE
)
## create RYG data set
RYG <- dibels %>%
select(Year, District_Name, School, Grade,
v0_Beg = Need_For_Support_FSF_K_Beginning,
v0_Mid = Need_For_Support_FSF_K_Middle,
v0_End = Need_For_Support_PSF_K_End,
v1_Beg = Need_For_Support_PSF_1st_Beginning,
v1_Mid = Need_For_Support_DORF.WordsCorrect_1st_Middle,
v1_End = Need_For_Support_DORF.WordsCorrect_1st_End,
v2_Beg = Need_For_Support_DORF.WordsCorrect_2nd_Beginning,
v2_Mid = Need_For_Support_DORF.WordsCorrect_2nd_Middle,
v2_End = Need_For_Support_DORF.WordsCorrect_2nd_End,
v3_Beg = Need_For_Support_DORF.WordsCorrect_3rd_Beginning,
v3_Mid = Need_For_Support_DORF.WordsCorrect_3rd_Middle,
v3_End = Need_For_Support_DORF.WordsCorrect_3rd_End,
v4_Beg = Need_For_Support_DORF.WordsCorrect_4th_Beginning,
v4_Mid = Need_For_Support_DORF.WordsCorrect_4th_Middle,
v4_End = Need_For_Support_DORF.WordsCorrect_4th_End,
v5_Beg = Need_For_Support_DORF.WordsCorrect_5th_Beginning,
v5_Mid = Need_For_Support_DORF.WordsCorrect_5th_Middle,
v5_End = Need_For_Support_DORF.WordsCorrect_5th_End,
v6_Beg = Need_For_Support_DORF.WordsCorrect_6th_Beginning,
v6_Mid = Need_For_Support_DORF.WordsCorrect_6th_Middle,
v6_End = Need_For_Support_DORF.WordsCorrect_6th_End) %>%
mutate(v0_Beg = ifelse(!is.na(v0_Beg), v0_Beg, ''),
v0_Mid = ifelse(!is.na(v0_Mid), v0_Mid, ''),
v0_End = ifelse(!is.na(v0_End), v0_End, ''),
v1_Beg = ifelse(!is.na(v1_Beg), v1_Beg, ''),
v1_Mid = ifelse(!is.na(v1_Mid), v1_Mid, ''),
v1_End = ifelse(!is.na(v1_End), v1_End, ''),
v2_Beg = ifelse(!is.na(v2_Beg), v2_Beg, ''),
v2_Mid = ifelse(!is.na(v2_Mid), v2_Mid, ''),
v2_End = ifelse(!is.na(v2_End), v2_End, ''),
v3_Beg = ifelse(!is.na(v3_Beg), v3_Beg, ''),
v3_Mid = ifelse(!is.na(v3_Mid), v3_Mid, ''),
v3_End = ifelse(!is.na(v3_End), v3_End, ''),
v4_Beg = ifelse(!is.na(v4_Beg), v4_Beg, ''),
v4_Mid = ifelse(!is.na(v4_Mid), v4_Mid, ''),
v4_End = ifelse(!is.na(v4_End), v4_End, ''),
v5_Beg = ifelse(!is.na(v5_Beg), v5_Beg, ''),
v5_Mid = ifelse(!is.na(v5_Mid), v5_Mid, ''),
v5_End = ifelse(!is.na(v5_End), v5_End, ''),
v6_Beg = ifelse(!is.na(v6_Beg), v6_Beg, ''),
v6_Mid = ifelse(!is.na(v6_Mid), v6_Mid, ''),
v6_End = ifelse(!is.na(v6_End), v6_End, '')
) %>%
mutate(Beg=paste(v0_Beg, v1_Beg, v2_Beg, v3_Beg, v4_Beg, v5_Beg, v6_Beg, sep=''),
Mid=paste(v0_Mid, v1_Mid, v2_Mid, v3_Mid, v4_Mid, v5_Mid, v6_Mid, sep=''),
End=paste(v0_End, v1_End, v2_End, v3_End, v4_End, v5_End, v6_End, sep='')) %>%
arrange(District_Name, School, Grade)
#RYG <- RYG %>%
#           select(Year, District_Name, School, Grade, Beg, Mid, End)
Test2014A <- RYG %>%
select(Year, District_Name, School, Grade, Beg, Mid, End) %>%
gather(key=Assessment, value=Value, Beg, Mid, End)
write.csv(Test2014A, file="C:/Users/Cam/Google Drive/Britt/Test2014A.csv")
rm(Test2014A)
setwd("C:/Users/Cam/Documents/GitHub/Course Project/course-project")
